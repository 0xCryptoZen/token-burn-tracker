# ğŸ”¥ TokenAsh

[![TokenAsh](https://img.shields.io/badge/TokenAsh-v0.1.0-orange)](https://github.com/bond/token-burn-tracker)
[![Python](https://img.shields.io/badge/Python-3.10%2B-blue)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

Track your AI token usage and generate beautiful charts for your GitHub profile.

**Ultra-lightweight** â€¢ **Zero database** â€¢ **GitHub Actions powered**

<!-- TOKENASH:START -->
<!-- TOKENASH:END -->

## âœ¨ Features

- ğŸ“Š **Visual Charts** - Beautiful token consumption charts via QuickChart.io
- ğŸ”Œ **Multi-Provider** - Supports OpenAI, Anthropic (Claude), and extensible for more
- âš¡ **Zero Resources** - Runs on GitHub Actions, no server needed
- ğŸ’¾ **Git as Database** - Data stored in your repo, fully portable
- ğŸ¯ **Profile Integration** - Auto-updates your GitHub profile README

## ğŸš€ Quick Start

### 1. Fork this repository

Click the `Fork` button in the top right.

### 2. Add your API keys as secrets

Go to your forked repo â†’ Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret

Add:
- `OPENAI_API_KEY` - Your OpenAI API key (optional)
- `ANTHROPIC_API_KEY` - Your Anthropic API key (optional)

### 3. Add markers to your profile README

In your profile repository (`username/username`), add these markers to your README.md:

```markdown
<!-- TOKENASH:START -->
<!-- TOKENASH:END -->
```

The chart will be inserted between these markers.

### 4. Configure (optional)

Edit `config.yaml` in the root:

```yaml
openai:
  enabled: true
  # api_key is read from OPENAI_API_KEY secret

anthropic:
  enabled: true
  # api_key is read from ANTHROPIC_API_KEY secret

chart:
  days: 30
  title: "ğŸ”¥ Token Consumption (Last 30 Days)"

github:
  profile_repo: "yourusername/yourusername"
  readme_path: "README.md"
  section_start: "<!-- TOKENASH:START -->"
  section_end: "<!-- TOKENASH:END -->"
```

### 5. Enable GitHub Actions

Go to Actions tab â†’ Enable workflows

The workflow runs daily at 00:00 UTC. You can also trigger it manually.

## ğŸ“ Project Structure

```
tokenash/
â”œâ”€â”€ src/tokenash/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py           # Entry point
â”‚   â”œâ”€â”€ models.py         # Data models
â”‚   â”œâ”€â”€ storage.py        # Data persistence
â”‚   â”œâ”€â”€ chart.py          # Chart generation
â”‚   â””â”€â”€ providers/
â”‚       â”œâ”€â”€ base.py           # Provider interface
â”‚       â”œâ”€â”€ openai_provider.py
â”‚       â””â”€â”€ anthropic_provider.py
â”œâ”€â”€ data/                 # Usage data (JSON)
â”œâ”€â”€ charts/               # Generated charts
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ update.yml        # Daily update workflow
â”œâ”€â”€ config.yaml           # Configuration
â””â”€â”€ pyproject.toml
```

## ğŸ› ï¸ Local Development

```bash
# Clone
git clone https://github.com/YOUR_USERNAME/token-burn-tracker.git
cd token-burn-tracker

# Install
pip install -e .

# Configure
cp config.example.yaml config.yaml
# Edit config.yaml with your API keys

# Run
tokenash
```

## ğŸ“Š Example Output

The generated chart looks like:

```
ğŸ”¥ Token Consumption (Last 30 Days)

[Bar chart showing daily token usage by provider]

> Total (30d): 2.5M tokens | Daily Avg: 83K tokens

ğŸ”„ Updated: 2024-01-15 00:00 UTC | Generated by TokenAsh
```

## ğŸ”§ Extending Providers

Add a new provider by implementing the `Provider` interface:

```python
from tokenash.providers.base import Provider, UsageData
from datetime import date

class MyProvider(Provider):
    name = "myprovider"

    def is_configured(self) -> bool:
        return bool(self.api_key)

    def get_daily_usage(self, start_date: date, end_date: date) -> list[UsageData]:
        # Fetch usage from your provider's API
        return [
            UsageData(
                date="2024-01-15",
                input_tokens=1000,
                output_tokens=500,
                total_tokens=1500,
            )
        ]
```

## ğŸ¤ Contributing

Contributions welcome! Areas to improve:

- [ ] More providers (Google AI, Mistral, etc.)
- [ ] Cost estimation
- [ ] Model breakdown
- [ ] More chart types

## ğŸ“ License

MIT License - use it however you want.

---

<p align="center">
  Made with ğŸ”¥ by <a href="https://github.com/bond">bond</a>
</p>
